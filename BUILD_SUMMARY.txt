╔════════════════════════════════════════════════════════════════════╗
║              SNAPVIDEO - TÓM TẮT CÁCH BUILD PHẦN MỀM               ║
║                 Hướng dẫn đơn giản từng bước                       ║
╚════════════════════════════════════════════════════════════════════╝


🎯 MỤC TIÊU
═══════════════════════════════════════════════════════════════════════

Biến SnapVideo từ source code Python thành file .exe có thể chạy 
trên bất kỳ máy Windows nào mà KHÔNG CẦN cài Python!


📦 CÁC BƯỚC ĐƠN GIẢN
═══════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────┐
│ BƯỚC 1: Chuẩn bị môi trường                                     │
└─────────────────────────────────────────────────────────────────┘

1. Đảm bảo đã cài Python 3.7+ với "Add to PATH"
   
2. Mở Command Prompt trong thư mục snapvideo
   
3. Cài đặt dependencies:
   >>> pip install -r requirements-dev.txt


┌─────────────────────────────────────────────────────────────────┐
│ BƯỚC 2: Build file .EXE                                         │
└─────────────────────────────────────────────────────────────────┘

🎯 CÁCH Dễ NHẤT:
   Double-click file: build_exe.bat
   ↓
   Đợi 2-5 phút
   ↓
   Xong! File SnapVideo.exe đã sẵn sàng!


📝 Hoặc chạy lệnh thủ công:
   >>> pyinstaller --clean snapvideo.spec
   >>> copy dist\SnapVideo.exe .


┌─────────────────────────────────────────────────────────────────┐
│ BƯỚC 3: Kiểm tra                                                │
└─────────────────────────────────────────────────────────────────┘

1. Double-click file SnapVideo.exe
   
2. Thử tải 1 video ngắn từ YouTube để test
   
3. Nếu OK → Chuyển sang bước 4
   Nếu lỗi → Đọc phần "Xử lý lỗi" bên dưới


┌─────────────────────────────────────────────────────────────────┐
│ BƯỚC 4: Tạo Installer (Tùy chọn)                               │
└─────────────────────────────────────────────────────────────────┘

4.1. Cài đặt Inno Setup:
     https://jrsoftware.org/isdl.php

4.2. Double-click file: build_installer.bat
     ↓
     Đợi 1-2 phút
     ↓
     Xong! File installer ở: output\SnapVideo_Setup_v1.0.0.exe


┌─────────────────────────────────────────────────────────────────┐
│ BƯỚC 5: Phân phối                                               │
└─────────────────────────────────────────────────────────────────┘

Bây giờ bạn có thể chia sẻ:

✅ File SnapVideo.exe (~30-50MB)
   - Chạy trực tiếp, không cần cài đặt
   - Gửi qua email, USB, Google Drive, etc.

✅ File SnapVideo_Setup_v1.0.0.exe (~35-55MB)
   - Installer chuyên nghiệp
   - Tự động tạo shortcut và uninstaller
   - Upload lên website, GitHub Releases


═══════════════════════════════════════════════════════════════════════
🔄 QUY TRÌNH HOÀN CHỈNH (Visual)
═══════════════════════════════════════════════════════════════════════

    Source Code (snapvideo.py)
           │
           ├─── [pip install]
           │
           ├─── [build_exe.bat]
           │         ↓
           ├─── PyInstaller build
           │         ↓
    ┌──────┴────────────┐
    │                   │
    │ SnapVideo.exe     │  ← Chạy được ngay!
    │   (~30-50MB)      │
    │                   │
    └────────┬──────────┘
             │
             ├─── [build_installer.bat]
             │         ↓
             ├─── Inno Setup compile
             │         ↓
    ┌────────┴─────────────────┐
    │                          │
    │ SnapVideo_Setup.exe      │  ← Installer chuyên nghiệp!
    │   (~35-55MB)             │
    │                          │
    └──────────────────────────┘


═══════════════════════════════════════════════════════════════════════
📂 FILE CẦN THIẾT
═══════════════════════════════════════════════════════════════════════

Để BUILD:
├── snapvideo.py              ← Source code chính
├── requirements-dev.txt      ← Dependencies cho build
├── snapvideo.spec            ← Config PyInstaller
├── build_exe.bat             ← Script build .exe
├── installer.iss             ← Config Inno Setup (cho installer)
└── build_installer.bat       ← Script build installer

Output sau khi build:
├── SnapVideo.exe             ← File thực thi (build xong)
└── output/
    └── SnapVideo_Setup_v1.0.0.exe  ← Installer (build xong)


═══════════════════════════════════════════════════════════════════════
⚡ LỆNH NHANH (Cho người thích command line)
═══════════════════════════════════════════════════════════════════════

# Cài đặt dependencies
pip install -r requirements-dev.txt

# Build .exe
pyinstaller --clean snapvideo.spec

# Hoặc build không dùng file .spec
pyinstaller --onefile --windowed --name SnapVideo snapvideo.py

# Copy file .exe ra ngoài
copy dist\SnapVideo.exe .

# Build installer (sau khi cài Inno Setup)
"C:\Program Files (x86)\Inno Setup 6\ISCC.exe" installer.iss


═══════════════════════════════════════════════════════════════════════
❌ XỬ LÝ LỖI THƯỜNG GẶP
═══════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────┐
│ Lỗi 1: "pyinstaller is not recognized"                         │
└─────────────────────────────────────────────────────────────────┘
→ pip install pyinstaller


┌─────────────────────────────────────────────────────────────────┐
│ Lỗi 2: File .exe không chạy / crash ngay                       │
└─────────────────────────────────────────────────────────────────┘
→ Build lại với console mode để thấy lỗi:
  pyinstaller --onefile snapvideo.py
  (Bỏ --windowed để thấy error message)


┌─────────────────────────────────────────────────────────────────┐
│ Lỗi 3: "Failed to execute script"                              │
└─────────────────────────────────────────────────────────────────┘
→ Xóa thư mục build/ và dist/
→ Build lại: pyinstaller --clean snapvideo.spec


┌─────────────────────────────────────────────────────────────────┐
│ Lỗi 4: File .exe bị Windows Defender chặn                      │
└─────────────────────────────────────────────────────────────────┘
→ Bình thường! Click "More info" → "Run anyway"
→ Hoặc add exception trong Windows Security


┌─────────────────────────────────────────────────────────────────┐
│ Lỗi 5: ModuleNotFoundError khi chạy .exe                       │
└─────────────────────────────────────────────────────────────────┘
→ Thêm module vào hiddenimports trong file snapvideo.spec
→ Build lại


═══════════════════════════════════════════════════════════════════════
💡 MẸO HAY
═══════════════════════════════════════════════════════════════════════

✅ Build nhanh hơn:
   - Không xóa thư mục build/ giữa các lần build
   - Chỉ dùng --clean khi thực sự cần thiết

✅ File .exe nhỏ hơn:
   - Exclude các module không dùng trong file .spec
   - Dùng UPX compression

✅ Debug dễ dàng:
   - Build với console mode trước (bỏ --windowed)
   - Test kỹ trước khi build no-console version

✅ Phân phối chuyên nghiệp:
   - Dùng installer thay vì .exe đơn
   - Thêm icon cho file .exe
   - Sign code nếu có budget


═══════════════════════════════════════════════════════════════════════
📊 SO SÁNH CÁC PHƯƠNG THỨC PHÂN PHỐI
═══════════════════════════════════════════════════════════════════════

┌──────────────┬────────────┬────────────┬────────────┬────────────┐
│ Phương thức  │ File size  │ Dễ dùng    │ Chuyên     │ Yêu cầu    │
│              │            │            │ nghiệp     │            │
├──────────────┼────────────┼────────────┼────────────┼────────────┤
│ Python code  │ 50KB       │ ★☆☆☆☆      │ ★☆☆☆☆      │ Python     │
│ + .bat       │            │            │            │            │
├──────────────┼────────────┼────────────┼────────────┼────────────┤
│ .exe file    │ 30-50MB    │ ★★★★☆      │ ★★★☆☆      │ Không      │
│              │            │            │            │            │
├──────────────┼────────────┼────────────┼────────────┼────────────┤
│ Installer    │ 35-55MB    │ ★★★★★      │ ★★★★★      │ Không      │
│ (.exe setup) │            │            │            │            │
└──────────────┴────────────┴────────────┴────────────┴────────────┘


═══════════════════════════════════════════════════════════════════════
✅ CHECKLIST TRƯỚC KHI PHÂN PHỐI
═══════════════════════════════════════════════════════════════════════

Đảm bảo đã làm các bước sau:

□ Build thành công file .exe
□ Test .exe chạy được trên máy build
□ Test .exe chạy được trên máy khác (nếu có)
□ Test tất cả chức năng hoạt động:
  □ Tải video YouTube
  □ Tải video từ nền tảng khác
  □ Tải audio (MP3)
  □ Chọn thư mục lưu
  □ Progress bar hoạt động
  □ Giao diện hiển thị đúng
□ Scan virus/malware (VirusTotal.com)
□ Chuẩn bị README/hướng dẫn
□ Chọn nơi host file (GitHub, Google Drive, etc.)


═══════════════════════════════════════════════════════════════════════
📞 TRỢ GIÚP THÊM
═══════════════════════════════════════════════════════════════════════

Đọc thêm:
├── QUICK_START.txt         → Hướng dẫn nhanh
├── HUONG_DAN_BUILD.txt     → Hướng dẫn chi tiết đầy đủ
├── README.md               → Documentation đầy đủ
└── HUONG_DAN_CAI_DAT.txt   → Hướng dẫn cho user


═══════════════════════════════════════════════════════════════════════

CHÚC BẠN BUILD THÀNH CÔNG! 🎉

═══════════════════════════════════════════════════════════════════════

